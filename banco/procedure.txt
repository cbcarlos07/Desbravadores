DELIMITER $$

DROP PROCEDURE IF EXISTS `PROC_ANO` $$
CREATE DEFINER=`root`@`localhost` PROCEDURE `PROC_ANO`(
CODIGO INT,
TEXTO VARCHAR(75),
ACAO    CHAR(1)
)
BEGIN
DECLARE TEXTO_ VARCHAR(75);
SET TEXTO_ = CONCAT('%',TEXTO,'%');
CASE
   WHEN ACAO = 'I' -- INCLUIR
     THEN INSERT INTO ANO VALUES (NULL, TEXTO);
   WHEN ACAO = 'A' -- ALTERAR
      THEN  UPDATE ANO SET DESC_ANO = TEXTO WHERE CD_ANO = CODIGO;
   WHEN ACAO = 'E' -- EXCLUIR
      THEN  DELETE FROM ANO WHERE CD_ANO = CODIGO;
   WHEN ACAO = 'N' -- NOME *** PESQUISAR POR NOME
      THEN SELECT * FROM ANO U WHERE U.NM_ANO LIKE TEXTO_;
   WHEN ACAO = 'C' -- CODIGO **  PESQUISAR POR CODIGO
      THEN SELECT * FROM ANO U  WHERE U.CD_ANO = CODIGO;
   WHEN ACAO = 'T' -- TODOS ** MOSTRAR POR TODOS
      THEN SELECT * FROM ANO U ORDER BY DES_ANO DESC;

END CASE;
END $$

DELIMITER ;